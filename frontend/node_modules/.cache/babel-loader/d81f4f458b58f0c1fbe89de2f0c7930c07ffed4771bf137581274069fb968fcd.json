{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mores\\\\Downloads\\\\fullstack_final_project\\\\fullstack_final_project\\\\frontend\\\\src\\\\components\\\\StoreDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoreDetails() {\n  _s();\n  var _store$ratings;\n  const {\n    id\n  } = useParams();\n  const [store, setStore] = useState(null);\n  const [rating, setRating] = useState(5);\n  useEffect(() => {\n    async function load() {\n      const token = localStorage.getItem('token');\n      const res = await axios.get('http://localhost:5000/api/stores/' + id, {\n        headers: {\n          Authorization: 'Bearer ' + token\n        }\n      });\n      setStore(res.data);\n    }\n    load();\n  }, [id]);\n  async function submitRating() {\n    const token = localStorage.getItem('token');\n    await axios.post('http://localhost:5000/api/ratings', {\n      storeId: id,\n      rating\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    alert('Rating submitted');\n  }\n  if (!store) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: store.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Address: \", store.address]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Average Rating: \", store.avgRating || 'N/A']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: rating,\n        onChange: e => setRating(Number(e.target.value)),\n        children: [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: n,\n          children: n\n        }, n, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 32\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitRating,\n        children: \"Submit Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"All ratings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: (_store$ratings = store.ratings) === null || _store$ratings === void 0 ? void 0 : _store$ratings.map(r => {\n        var _r$User;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [(_r$User = r.User) === null || _r$User === void 0 ? void 0 : _r$User.name, \": \", r.rating]\n        }, r.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 33\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(StoreDetails, \"RdUdnHEIiHlEVQ1Gg33PEAQ224U=\", false, function () {\n  return [useParams];\n});\n_c = StoreDetails;\nvar _c;\n$RefreshReg$(_c, \"StoreDetails\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","jsxDEV","_jsxDEV","StoreDetails","_s","_store$ratings","id","store","setStore","rating","setRating","load","token","localStorage","getItem","res","get","headers","Authorization","data","submitRating","post","storeId","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","name","address","avgRating","value","onChange","e","Number","target","map","n","onClick","ratings","r","_r$User","User","_c","$RefreshReg$"],"sources":["C:/Users/mores/Downloads/fullstack_final_project/fullstack_final_project/frontend/src/components/StoreDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\nexport default function StoreDetails() {\n  const { id } = useParams();\n  const [store,setStore] = useState(null);\n  const [rating,setRating] = useState(5);\n\n  useEffect(()=>{\n    async function load() {\n      const token = localStorage.getItem('token');\n      const res = await axios.get('http://localhost:5000/api/stores/'+id, { headers: { Authorization: 'Bearer '+token } });\n      setStore(res.data);\n    }\n    load();\n  },[id]);\n\n  async function submitRating() {\n    const token = localStorage.getItem('token');\n    await axios.post('http://localhost:5000/api/ratings', { storeId: id, rating }, { headers: { Authorization: 'Bearer '+token } });\n    alert('Rating submitted');\n  }\n\n  if (!store) return <div>Loading...</div>;\n  return (\n    <div>\n      <h2>{store.name}</h2>\n      <div>Address: {store.address}</div>\n      <div>Average Rating: {store.avgRating || 'N/A'}</div>\n      <div>\n        <select value={rating} onChange={e=>setRating(Number(e.target.value))}>\n          {[1,2,3,4,5].map(n=> <option key={n} value={n}>{n}</option>)}\n        </select>\n        <button onClick={submitRating}>Submit Rating</button>\n      </div>\n      <h3>All ratings</h3>\n      <ul>\n        {store.ratings?.map(r=> <li key={r.id}>{r.User?.name}: {r.rating}</li>)}\n      </ul>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}